var W=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var ee=Object.prototype.hasOwnProperty;var te=(u,k)=>()=>(u&&(k=u(u=0)),k);var X=(u,k,M,y)=>{if(k&&typeof k=="object"||typeof k=="function")for(let b of Y(k))!ee.call(u,b)&&b!==M&&W(u,b,{get:()=>k[b],enumerable:!(y=V(k,b))||y.enumerable});return u},G=(u,k,M)=>(X(u,k,"default"),M&&X(M,k,"default"));var ne=u=>X(W({},"__esModule",{value:!0}),u);var D={};import*as pt from"async_hooks";var Z=te(()=>{G(D,pt)});import{__getNamedExports as _e}from"../../../../__next-on-pages-dist__/webpack/1d2470119d4f846d0a077893f2422c32.js";import{__getNamedExports as re}from"../../../../__next-on-pages-dist__/webpack/26df63ef8f6dd468813d90c00f151653.js";import{__getNamedExports as se}from"../../../../__next-on-pages-dist__/webpack/73a23316e6943b71c3775abd2b4c802e.js";import{__getNamedExports as ae}from"../../../../__next-on-pages-dist__/webpack/7f9c4cac928c3718390c1c777cb83bc3.js";import{__getNamedExports as oe}from"../../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var m=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/recipes/[id]"),z=_e(m,m,m),ce=z.__chunk_9985,ie=z.__chunk_4155,U=re(m,m,m),ue=U.__chunk_6195,pe=U.__chunk_2067,de=U.__chunk_5558,he=U.__chunk_5303,ke=U.__chunk_5228,h=se(m,m,m),ge=h.__chunk_1730,le=h.__chunk_3818,fe=h.__chunk_7037,me=h.__chunk_5577,xe=h.__chunk_1863,ye=h.__chunk_3039,be=h.__chunk_9573,ve=h.__chunk_7701,Ee=h.__chunk_662,Ne=h.__chunk_7444,Oe=h.__chunk_4591,je=h.__chunk_932,Pe=h.__chunk_5234,we=h.__chunk_2561,Ie=h.__chunk_2988,Re=h.__chunk_2039,Se=h.__chunk_5028,Ae=h.__chunk_9548,Te=h.__chunk_6914,Ce=h.__chunk_7960,$e=h.__chunk_5996,Fe=h.__chunk_4337,p=ae(m,m,m),Me=p.__chunk_5405,Le=p.__chunk_7322,De=p.__chunk_2296,Ue=p.__chunk_4101,Ke=p.__chunk_6776,Be=p.__chunk_8042,Je=p.__chunk_3665,qe=p.__chunk_6991,Xe=p.__chunk_8816,Ge=p.__chunk_6631,He=p.__chunk_4828,We=p.__chunk_828,Ze=p.__chunk_5927,ze=p.__chunk_6202,Qe=p.__chunk_4363,Ve=p.__chunk_8264,Ye=p.__chunk_1583,et=p.__chunk_7908,tt=p.__chunk_8949,nt=p.__chunk_796,_t=p.__chunk_1651,rt=p.__chunk_5105,st=p.__chunk_9642,at=p.__chunk_8819,ot=p.__chunk_676,Q=oe(m,m,m),ct=Q.__NEXT_FONT_MANIFEST,it=Q.__REACT_LOADABLE_MANIFEST,ft=((u,k,M)=>(k._ENTRIES={},u.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ab9b5bdd0084cc23.js","static/chunks/fd9d1056-b6bd4111191f2b98.js","static/chunks/30-831c6f736de22b6a.js","static/chunks/main-app-197e90683a538661.js"],pages:{"/_app":["static/chunks/webpack-ab9b5bdd0084cc23.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-8267e90745dfb882.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-ab9b5bdd0084cc23.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-8267e90745dfb882.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},u.__BUILD_MANIFEST.lowPriorityFiles=["/static/ghdMjizDpB_f99iwsV4y3/_buildManifest.js",,"/static/ghdMjizDpB_f99iwsV4y3/_ssgManifest.js"],u.__REACT_LOADABLE_MANIFEST=it,u.__NEXT_FONT_MANIFEST=ct,u.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var y={},b={};function s(n){var c=b[n];if(c!==void 0)return c.exports;var r=b[n]={exports:{}},g=!0;try{y[n].call(r.exports,r,r.exports,s),g=!1}finally{g&&delete b[n]}return r.exports}s.m=y,s.amdO={},(()=>{var n=[];s.O=(c,r,g,f)=>{if(r){f=f||0;for(var d=n.length;d>0&&n[d-1][2]>f;d--)n[d]=n[d-1];n[d]=[r,g,f];return}for(var o=1/0,d=0;d<n.length;d++){for(var[r,g,f]=n[d],l=!0,N=0;N<r.length;N++)o>=f&&Object.keys(s.O).every(S=>s.O[S](r[N]))?r.splice(N--,1):(l=!1,f<o&&(o=f));if(l){n.splice(d--,1);var j=g();j!==void 0&&(c=j)}}return c}})(),s.n=n=>{var c=n&&n.__esModule?()=>n.default:()=>n;return s.d(c,{a:c}),c},(()=>{var n,c=Object.getPrototypeOf?r=>Object.getPrototypeOf(r):r=>r.__proto__;s.t=function(r,g){if(1&g&&(r=this(r)),8&g||typeof r=="object"&&r&&(4&g&&r.__esModule||16&g&&typeof r.then=="function"))return r;var f=Object.create(null);s.r(f);var d={};n=n||[null,c({}),c([]),c(c)];for(var o=2&g&&r;typeof o=="object"&&!~n.indexOf(o);o=c(o))Object.getOwnPropertyNames(o).forEach(l=>d[l]=()=>r[l]);return d.default=()=>r,s.d(f,d),f}})(),s.d=(n,c)=>{for(var r in c)s.o(c,r)&&!s.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:c[r]})},s.e=()=>Promise.resolve(),s.g=function(){if(typeof k=="object")return k;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(n,c)=>Object.prototype.hasOwnProperty.call(n,c),s.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={993:0};s.O.j=g=>n[g]===0;var c=(g,f)=>{var d,o,[l,N,j]=f,I=0;if(l.some(L=>n[L]!==0)){for(d in N)s.o(N,d)&&(s.m[d]=N[d]);if(j)var R=j(s)}for(g&&g(f);I<l.length;I++)o=l[I],s.o(n,o)&&n[o]&&n[o][0](),n[o]=0;return s.O(R)},r=u.webpackChunk_N_E=u.webpackChunk_N_E||[];r.forEach(c.bind(null,0)),r.push=c.bind(null,r.push.bind(r))})(),s.nc=void 0})(),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[467],{676:ot,8819:at,9642:st,5105:rt,1651:_t,796:nt,8949:tt,7908:et,1583:Ye,8264:Ve,4363:Qe,6202:ze,5927:Ze,828:We,4828:He,6631:Ge,8816:Xe,6991:qe,3665:Je,8042:Be,6776:Ke,4101:Ue,2296:De,5228:ke,5303:he,7322:Le,5558:de,5405:Me}]),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[805],{4337:Fe,5996:$e,7960:Ce,6914:Te,9548:Ae,5028:Se,2039:Re,2988:Ie,2561:we,5234:Pe,932:je,4591:Oe,7444:Ne,662:Ee,7701:ve,9573:be,3039:ye,1863:xe,5577:me,7037:fe,3818:le,1730:ge}]),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[645],{2067:pe,6195:ue,6230:(y,b,s)=>{"use strict";s.r(b),s.d(b,{ComponentMod:()=>J,default:()=>q});var n={};s.r(n),s.d(n,{DELETE:()=>I,GET:()=>N,PUT:()=>j});var c={};s.r(c),s.d(c,{originalPathname:()=>K,patchFetch:()=>B,requestAsyncStorage:()=>L,routeModule:()=>R,serverHooks:()=>S,staticGenerationAsyncStorage:()=>F});var r=s(932),g=s(2561),f=s(4828),d=s(6631),o=s(9985);let l=[{id:1,title:"\u756A\u8304\u7092\u86CB",image_url:"/images/tomato-egg.jpg",description:"\u5BB6\u5E38\u7F8E\u5473\u7684\u756A\u8304\u7092\u86CB",tags:"easy,quick,chinese",cook_time:15,servings:2,difficulty:"easy",ingredients:JSON.stringify([{name:"\u756A\u8304",amount:"2\u4E2A"},{name:"\u9E21\u86CB",amount:"3\u4E2A"},{name:"\u76D0",amount:"\u9002\u91CF"}]),seasoning:JSON.stringify([{name:"\u7CD6",amount:"1\u8336\u5319"}]),instructions:JSON.stringify(["\u756A\u8304\u5207\u5757\uFF0C\u9E21\u86CB\u6253\u6563","\u9505\u4E2D\u653E\u6CB9\uFF0C\u5012\u5165\u9E21\u86CB\u7092\u6563","\u653E\u5165\u756A\u8304\u7FFB\u7092\uFF0C\u52A0\u5165\u8C03\u5473\u6599","\u7092\u81F3\u756A\u8304\u8F6F\u70C2\u5373\u53EF\u51FA\u9505"]),chef_tips:"\u756A\u8304\u4E0D\u8981\u7092\u592A\u4E45\uFF0C\u4FDD\u6301\u4E00\u5B9A\u7684\u5F62\u72B6\u66F4\u597D",cuisine_id:1,cuisine_name:"\u4E2D\u9910",user_id:"user1",created_at:"2023-05-01T12:00:00Z",updated_at:"2023-05-01T12:00:00Z"},{id:2,title:"\u610F\u5927\u5229\u9762",image_url:"/images/pasta.jpg",description:"\u7B80\u5355\u7F8E\u5473\u7684\u610F\u5927\u5229\u9762",tags:"pasta,italian,dinner",cook_time:20,servings:2,difficulty:"easy",ingredients:JSON.stringify([{name:"\u610F\u5927\u5229\u9762",amount:"200\u514B"},{name:"\u756A\u8304\u9171",amount:"100\u514B"},{name:"\u6D0B\u8471",amount:"1/2\u4E2A"}]),seasoning:JSON.stringify([{name:"\u76D0",amount:"\u9002\u91CF"},{name:"\u9ED1\u80E1\u6912",amount:"\u9002\u91CF"}]),instructions:JSON.stringify(["\u716E\u610F\u5927\u5229\u9762\u81F3\u786C\u82AF","\u714E\u7092\u6D0B\u8471\u548C\u5927\u849C","\u52A0\u5165\u756A\u8304\u9171\u716E\u6CB8","\u4E0E\u610F\u5927\u5229\u9762\u62CC\u5300"]),chef_tips:"\u610F\u5927\u5229\u9762\u4E0D\u8981\u716E\u592A\u8F6F",cuisine_id:2,cuisine_name:"\u610F\u5927\u5229\u83DC",user_id:"user2",created_at:"2023-05-02T12:00:00Z",updated_at:"2023-05-02T12:00:00Z"}];async function N(A,{params:T}){let _=parseInt(T?.id||"0");if(isNaN(_)||_<=0)return o.xk.json({error:"\u65E0\u6548\u7684ID"},{status:400});let v=l.find(x=>x.id===_);return v?o.xk.json(v):o.xk.json({error:"\u83DC\u8C31\u4E0D\u5B58\u5728"},{status:404})}async function j(A,{params:T}){let _,v=A.headers.get("authorization");if(!v||!v.startsWith("Bearer "))return o.xk.json({error:"\u9700\u8981\u6388\u6743"},{status:401});let x=parseInt(T?.id||"0");if(isNaN(x)||x<=0)return o.xk.json({error:"\u65E0\u6548\u7684ID"},{status:400});try{_=await A.json()}catch{return o.xk.json({error:"\u65E0\u6548\u7684\u8BF7\u6C42\u4F53"},{status:400})}let e=l.findIndex(O=>O.id===x);if(e===-1)return o.xk.json({error:"\u83DC\u8C31\u4E0D\u5B58\u5728"},{status:404});let i=l[e];if(i.user_id!=="user1")return o.xk.json({error:"\u65E0\u6743\u66F4\u65B0\u6B64\u83DC\u8C31"},{status:403});let t={};_.title&&(t.title=_.title),_.image_url!==void 0&&(t.image_url=_.image_url),_.description!==void 0&&(t.description=_.description),_.cook_time!==void 0&&(t.cook_time=_.cook_time),_.servings!==void 0&&(t.servings=_.servings),_.difficulty!==void 0&&(t.difficulty=_.difficulty),_.chef_tips!==void 0&&(t.chef_tips=_.chef_tips),_.cuisine_id!==void 0&&(t.cuisine_id=_.cuisine_id),_.tags&&(t.tags=_.tags.join(",")),_.ingredients&&(t.ingredients=Array.isArray(_.ingredients)?JSON.stringify(_.ingredients):_.ingredients),_.seasoning!==void 0&&(t.seasoning=Array.isArray(_.seasoning)?JSON.stringify(_.seasoning):_.seasoning),_.instructions&&(t.instructions=Array.isArray(_.instructions)?JSON.stringify(_.instructions):_.instructions);let a={...i,...t,updated_at:new Date().toISOString()};return l[e]=a,o.xk.json(a)}async function I(A,{params:T}){let _=A.headers.get("authorization");if(!_||!_.startsWith("Bearer "))return o.xk.json({error:"\u9700\u8981\u6388\u6743"},{status:401});let v=parseInt(T?.id||"0");if(isNaN(v)||v<=0)return o.xk.json({error:"\u65E0\u6548\u7684ID"},{status:400});let x=l.findIndex(e=>e.id===v);return x===-1?o.xk.json({error:"\u83DC\u8C31\u4E0D\u5B58\u5728"},{status:404}):l[x].user_id!=="user1"?o.xk.json({error:"\u65E0\u6743\u5220\u9664\u6B64\u83DC\u8C31"},{status:403}):(l=l.filter(e=>e.id!==v),o.xk.json({success:!0}))}let R=new g.AppRouteRouteModule({definition:{kind:f.x.APP_ROUTE,page:"/api/recipes/[id]/route",pathname:"/api/recipes/[id]",filename:"route",bundlePath:"app/api/recipes/[id]/route"},resolvedPagePath:"/Users/nasirann/Documents/GitHub/recipe-easy/app/api/recipes/[id]/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:L,staticGenerationAsyncStorage:F,serverHooks:S}=R,K="/api/recipes/[id]/route";function B(){return(0,d.XH)({serverHooks:S,staticGenerationAsyncStorage:F})}let J=c,q=r.a.wrap(R)},4155:ie,9985:ce},y=>{var b=n=>y(y.s=n);y.O(0,[467,805],()=>b(6230));var s=y.O();(k._ENTRIES=typeof k._ENTRIES>"u"?{}:k._ENTRIES)["middleware_app/api/recipes/[id]/route"]=s}]),function(){let y={exports:{},loaded:!1};return function(s,n){var c=Object.create,r=Object.defineProperty,g=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,d=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,l=e=>r(e,"__esModule",{value:!0}),N=(e,i)=>{l(e);for(var t in i)r(e,t,{get:i[t],enumerable:!0})},j=(e,i,t)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of f(i))!o.call(e,a)&&a!=="default"&&r(e,a,{get:()=>i[a],enumerable:!(t=g(i,a))||t.enumerable});return e},I=e=>j(l(r(e!=null?c(d(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);N(n,{default:()=>T});var R=I((Z(),ne(D))),L="@next/request-context",F=Symbol.for(L),S=Symbol.for("internal.storage");function K(){let e=k;if(!e[F]){let i=new R.AsyncLocalStorage,t={get:()=>i.getStore(),[S]:i};e[F]=t}return e[F]}var B=K();function J(e,i){return B[S].run(e,i)}function q(e){let i={};return e&&e.forEach((t,a)=>{i[a]=t,a.toLowerCase()==="set-cookie"&&(i[a]=A(t))}),i}function A(e){let i=[],t=0,a,O,E,C,$;function P(){for(;t<e.length&&/\s/.test(e.charAt(t));)t+=1;return t<e.length}function w(){return O=e.charAt(t),O!=="="&&O!==";"&&O!==","}for(;t<e.length;){for(a=t,$=!1;P();)if(O=e.charAt(t),O===","){for(E=t,t+=1,P(),C=t;t<e.length&&w();)t+=1;t<e.length&&e.charAt(t)==="="?($=!0,t=C,i.push(e.substring(a,E)),a=t):t=E+1}else t+=1;(!$||t>=e.length)&&i.push(e.substring(a,e.length))}return i}function T(e){let i=e.staticRoutes.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page})),t=e.dynamicRoutes?.map(a=>({regexp:new RegExp(a.namedRegex),page:a.page}))||[];return async function(a,O){let E=new URL(a.url).pathname,C={};if(e.nextConfig?.basePath&&E.startsWith(e.nextConfig.basePath)&&(E=E.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let P of e.nextConfig.i18n.locales){let w=new RegExp(`^/${P}($|/)`,"i");if(E.match(w)){E=E.replace(w,"/")||"/";break}}for(let P of i)if(P.regexp.exec(E)){C.name=P.page;break}if(!C.name){let P=v(E);for(let w of t||[]){if(P&&!v(w.page))continue;let H=w.regexp.exec(E);if(H){C={name:w.page,params:H.groups};break}}}let $=await J({waitUntil:O.waitUntil},()=>k._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:a.url,method:a.method,headers:q(a.headers),ip:_(a.headers,x.Ip),geo:{city:_(a.headers,x.City,!0),country:_(a.headers,x.Country,!0),latitude:_(a.headers,x.Latitude),longitude:_(a.headers,x.Longitude),region:_(a.headers,x.Region,!0)},nextConfig:e.nextConfig,page:C,body:a.body}}));return $.waitUntil&&O.waitUntil($.waitUntil),$.response}}function _(e,i,t=!1){let a=e.get(i)||void 0;return t&&a?decodeURIComponent(a):a}function v(e){return e==="/api"||e.startsWith("/api/")}var x;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(x||(x={}))}(y,y.exports),y.exports}.call({}).default({name:"app/api/recipes/[id]/route",staticRoutes:[{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/auth",regex:"^/auth(?:/)?$",routeKeys:{},namedRegex:"^/auth(?:/)?$"},{page:"/auth/callback",regex:"^/auth/callback(?:/)?$",routeKeys:{},namedRegex:"^/auth/callback(?:/)?$"},{page:"/robots.txt",regex:"^/robots\\.txt(?:/)?$",routeKeys:{},namedRegex:"^/robots\\.txt(?:/)?$"},{page:"/sitemap.xml",regex:"^/sitemap\\.xml(?:/)?$",routeKeys:{},namedRegex:"^/sitemap\\.xml(?:/)?$"}],dynamicRoutes:[{page:"/api/generate-image/status/[taskId]",regex:"^/api/generate\\-image/status/([^/]+?)(?:/)?$",routeKeys:{nxtPtaskId:"nxtPtaskId"},namedRegex:"^/api/generate\\-image/status/(?<nxtPtaskId>[^/]+?)(?:/)?$"},{page:"/api/recipes/[id]",regex:"^/api/recipes/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/recipes/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/[locale]",regex:"^/([^/]+?)(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)(?:/)?$"},{page:"/[locale]/privacy",regex:"^/([^/]+?)/privacy(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)/privacy(?:/)?$"},{page:"/[locale]/terms",regex:"^/([^/]+?)/terms(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)/terms(?:/)?$"}],nextConfig:{basePath:""}})))(m,m,m);export{ft as default};
