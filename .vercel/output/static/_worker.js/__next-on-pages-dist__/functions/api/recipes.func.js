var W=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var ee=Object.prototype.hasOwnProperty;var te=(u,d)=>()=>(u&&(d=u(u=0)),d);var G=(u,d,$,x)=>{if(d&&typeof d=="object"||typeof d=="function")for(let y of Y(d))!ee.call(u,y)&&y!==$&&W(u,y,{get:()=>d[y],enumerable:!(x=V(d,y))||x.enumerable});return u},H=(u,d,$)=>(G(u,d,"default"),$&&G($,d,"default"));var ne=u=>G(W({},"__esModule",{value:!0}),u);var L={};import*as pt from"async_hooks";var Z=te(()=>{H(L,pt)});import{__getNamedExports as _e}from"../../../__next-on-pages-dist__/webpack/1d2470119d4f846d0a077893f2422c32.js";import{__getNamedExports as re}from"../../../__next-on-pages-dist__/webpack/26df63ef8f6dd468813d90c00f151653.js";import{__getNamedExports as ae}from"../../../__next-on-pages-dist__/webpack/73a23316e6943b71c3775abd2b4c802e.js";import{__getNamedExports as se}from"../../../__next-on-pages-dist__/webpack/7f9c4cac928c3718390c1c777cb83bc3.js";import{__getNamedExports as ce}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var m=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/recipes"),z=_e(m,m,m),oe=z.__chunk_9985,ue=z.__chunk_4155,U=re(m,m,m),ie=U.__chunk_6195,pe=U.__chunk_2067,he=U.__chunk_5558,le=U.__chunk_5303,de=U.__chunk_5228,l=ae(m,m,m),ge=l.__chunk_1730,ke=l.__chunk_3818,fe=l.__chunk_7037,me=l.__chunk_5577,xe=l.__chunk_1863,ye=l.__chunk_3039,be=l.__chunk_9573,Ee=l.__chunk_7701,ve=l.__chunk_662,Oe=l.__chunk_7444,Ne=l.__chunk_4591,we=l.__chunk_932,Pe=l.__chunk_5234,je=l.__chunk_2561,Re=l.__chunk_2988,Se=l.__chunk_2039,Ae=l.__chunk_5028,Te=l.__chunk_9548,Ie=l.__chunk_6914,Ce=l.__chunk_7960,$e=l.__chunk_5996,Fe=l.__chunk_4337,i=se(m,m,m),Me=i.__chunk_5405,Le=i.__chunk_7322,Ue=i.__chunk_2296,De=i.__chunk_4101,Ke=i.__chunk_6776,Je=i.__chunk_8042,Be=i.__chunk_3665,qe=i.__chunk_6991,Ge=i.__chunk_8816,He=i.__chunk_6631,Xe=i.__chunk_4828,We=i.__chunk_828,Ze=i.__chunk_5927,ze=i.__chunk_6202,Qe=i.__chunk_4363,Ve=i.__chunk_8264,Ye=i.__chunk_1583,et=i.__chunk_7908,tt=i.__chunk_8949,nt=i.__chunk_796,_t=i.__chunk_1651,rt=i.__chunk_5105,at=i.__chunk_9642,st=i.__chunk_8819,ct=i.__chunk_676,Q=ce(m,m,m),ot=Q.__NEXT_FONT_MANIFEST,ut=Q.__REACT_LOADABLE_MANIFEST,ft=((u,d,$)=>(d._ENTRIES={},u.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ab9b5bdd0084cc23.js","static/chunks/fd9d1056-b6bd4111191f2b98.js","static/chunks/30-831c6f736de22b6a.js","static/chunks/main-app-197e90683a538661.js"],pages:{"/_app":["static/chunks/webpack-ab9b5bdd0084cc23.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-8267e90745dfb882.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-ab9b5bdd0084cc23.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-8267e90745dfb882.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},u.__BUILD_MANIFEST.lowPriorityFiles=["/static/hNM3BNuaSgBdTz9oi70Kq/_buildManifest.js",,"/static/hNM3BNuaSgBdTz9oi70Kq/_ssgManifest.js"],u.__REACT_LOADABLE_MANIFEST=ut,u.__NEXT_FONT_MANIFEST=ot,u.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var x={},y={};function r(t){var o=y[t];if(o!==void 0)return o.exports;var _=y[t]={exports:{}},g=!0;try{x[t].call(_.exports,_,_.exports,r),g=!1}finally{g&&delete y[t]}return _.exports}r.m=x,r.amdO={},(()=>{var t=[];r.O=(o,_,g,k)=>{if(_){k=k||0;for(var p=t.length;p>0&&t[p-1][2]>k;p--)t[p]=t[p-1];t[p]=[_,g,k];return}for(var h=1/0,p=0;p<t.length;p++){for(var[_,g,k]=t[p],E=!0,O=0;O<_.length;O++)h>=k&&Object.keys(r.O).every(A=>r.O[A](_[O]))?_.splice(O--,1):(E=!1,k<h&&(h=k));if(E){t.splice(p--,1);var N=g();N!==void 0&&(o=N)}}return o}})(),r.n=t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return r.d(o,{a:o}),o},(()=>{var t,o=Object.getPrototypeOf?_=>Object.getPrototypeOf(_):_=>_.__proto__;r.t=function(_,g){if(1&g&&(_=this(_)),8&g||typeof _=="object"&&_&&(4&g&&_.__esModule||16&g&&typeof _.then=="function"))return _;var k=Object.create(null);r.r(k);var p={};t=t||[null,o({}),o([]),o(o)];for(var h=2&g&&_;typeof h=="object"&&!~t.indexOf(h);h=o(h))Object.getOwnPropertyNames(h).forEach(E=>p[E]=()=>_[E]);return p.default=()=>_,r.d(k,p),k}})(),r.d=(t,o)=>{for(var _ in o)r.o(o,_)&&!r.o(t,_)&&Object.defineProperty(t,_,{enumerable:!0,get:o[_]})},r.e=()=>Promise.resolve(),r.g=function(){if(typeof d=="object")return d;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),r.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={993:0};r.O.j=g=>t[g]===0;var o=(g,k)=>{var p,h,[E,O,N]=k,R=0;if(E.some(S=>t[S]!==0)){for(p in O)r.o(O,p)&&(r.m[p]=O[p]);if(N)var F=N(r)}for(g&&g(k);R<E.length;R++)h=E[R],r.o(t,h)&&t[h]&&t[h][0](),t[h]=0;return r.O(F)},_=u.webpackChunk_N_E=u.webpackChunk_N_E||[];_.forEach(o.bind(null,0)),_.push=o.bind(null,_.push.bind(_))})(),r.nc=void 0})(),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[467],{676:ct,8819:st,9642:at,5105:rt,1651:_t,796:nt,8949:tt,7908:et,1583:Ye,8264:Ve,4363:Qe,6202:ze,5927:Ze,828:We,4828:Xe,6631:He,8816:Ge,6991:qe,3665:Be,8042:Je,6776:Ke,4101:De,2296:Ue,5228:de,5303:le,7322:Le,5558:he,5405:Me}]),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[805],{4337:Fe,5996:$e,7960:Ce,6914:Ie,9548:Te,5028:Ae,2039:Se,2988:Re,2561:je,5234:Pe,932:we,4591:Ne,7444:Oe,662:ve,7701:Ee,9573:be,3039:ye,1863:xe,5577:me,7037:fe,3818:ke,1730:ge}]),(u.webpackChunk_N_E=u.webpackChunk_N_E||[]).push([[224],{2067:pe,6195:ie,262:(x,y,r)=>{"use strict";r.r(y),r.d(y,{ComponentMod:()=>B,default:()=>q});var t={};r.r(t),r.d(t,{GET:()=>R,POST:()=>F,runtime:()=>E});var o={};r.r(o),r.d(o,{originalPathname:()=>K,patchFetch:()=>J,requestAsyncStorage:()=>M,routeModule:()=>S,serverHooks:()=>D,staticGenerationAsyncStorage:()=>A});var _=r(932),g=r(2561),k=r(4828),p=r(6631),h=r(9985);let E="edge",O=[{id:1,title:"\u756A\u8304\u7092\u86CB",image_url:"/images/tomato-egg.jpg",description:"\u5BB6\u5E38\u7F8E\u5473\u7684\u756A\u8304\u7092\u86CB",tags:"easy,quick,chinese",cook_time:15,servings:2,difficulty:"easy",ingredients:JSON.stringify([{name:"\u756A\u8304",amount:"2\u4E2A"},{name:"\u9E21\u86CB",amount:"3\u4E2A"},{name:"\u76D0",amount:"\u9002\u91CF"}]),seasoning:JSON.stringify([{name:"\u7CD6",amount:"1\u8336\u5319"}]),instructions:JSON.stringify(["\u756A\u8304\u5207\u5757\uFF0C\u9E21\u86CB\u6253\u6563","\u9505\u4E2D\u653E\u6CB9\uFF0C\u5012\u5165\u9E21\u86CB\u7092\u6563","\u653E\u5165\u756A\u8304\u7FFB\u7092\uFF0C\u52A0\u5165\u8C03\u5473\u6599","\u7092\u81F3\u756A\u8304\u8F6F\u70C2\u5373\u53EF\u51FA\u9505"]),chef_tips:"\u756A\u8304\u4E0D\u8981\u7092\u592A\u4E45\uFF0C\u4FDD\u6301\u4E00\u5B9A\u7684\u5F62\u72B6\u66F4\u597D",cuisine_id:1,cuisine_name:"\u4E2D\u9910",user_id:"user1",created_at:"2023-05-01T12:00:00Z",updated_at:"2023-05-01T12:00:00Z"},{id:2,title:"\u610F\u5927\u5229\u9762",image_url:"/images/pasta.jpg",description:"\u7B80\u5355\u7F8E\u5473\u7684\u610F\u5927\u5229\u9762",tags:"pasta,italian,dinner",cook_time:20,servings:2,difficulty:"easy",ingredients:JSON.stringify([{name:"\u610F\u5927\u5229\u9762",amount:"200\u514B"},{name:"\u756A\u8304\u9171",amount:"100\u514B"},{name:"\u6D0B\u8471",amount:"1/2\u4E2A"}]),seasoning:JSON.stringify([{name:"\u76D0",amount:"\u9002\u91CF"},{name:"\u9ED1\u80E1\u6912",amount:"\u9002\u91CF"}]),instructions:JSON.stringify(["\u716E\u610F\u5927\u5229\u9762\u81F3\u786C\u82AF","\u714E\u7092\u6D0B\u8471\u548C\u5927\u849C","\u52A0\u5165\u756A\u8304\u9171\u716E\u6CB8","\u4E0E\u610F\u5927\u5229\u9762\u62CC\u5300"]),chef_tips:"\u610F\u5927\u5229\u9762\u4E0D\u8981\u716E\u592A\u8F6F",cuisine_id:2,cuisine_name:"\u610F\u5927\u5229\u83DC",user_id:"user2",created_at:"2023-05-02T12:00:00Z",updated_at:"2023-05-02T12:00:00Z"}],N=3;async function R(C){try{let{searchParams:s}=new URL(C.url),T=s.get("limit")||"10",b=s.get("offset")||"0",e=s.get("lang")||"en",c=s.get("search"),a=s.get("cuisineId"),n=new URLSearchParams;n.append("limit",T),n.append("offset",b),n.append("lang",e),c&&n.append("search",c),a&&n.append("cuisineId",a);let v=process.env.WORKER_URL||"https://recipe-easy.annnb016.workers.dev",f=await fetch(`${v}/api/recipes?${n}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!f.ok)throw Error(`HTTP error! status: ${f.status}`);let w=await f.json();return h.xk.json(w)}catch(s){return console.error("Error fetching recipes:",s),h.xk.json({success:!1,error:"Failed to fetch recipes"},{status:500})}}async function F(C){let s,T=C.headers.get("authorization");if(!T||!T.startsWith("Bearer "))return h.xk.json({error:"\u9700\u8981\u6388\u6743"},{status:401});try{s=await C.json()}catch{return h.xk.json({error:"\u65E0\u6548\u7684\u8BF7\u6C42\u4F53"},{status:400})}if(!s.title||!s.ingredients||!s.instructions)return h.xk.json({error:"\u7F3A\u5C11\u5FC5\u9700\u7684\u5B57\u6BB5"},{status:400});let b=s.ingredients;Array.isArray(b)&&(b=JSON.stringify(b));let e=s.seasoning;Array.isArray(e)&&(e=JSON.stringify(e));let c=s.instructions;Array.isArray(c)&&(c=JSON.stringify(c));let a=s.tags?s.tags.join(","):null,n=new Date().toISOString(),v={id:N++,title:s.title,image_url:s.image_url||null,description:s.description||null,tags:a,cook_time:s.cook_time||null,servings:s.servings||null,difficulty:s.difficulty||null,ingredients:b,seasoning:e||null,instructions:c,chef_tips:s.chef_tips||null,cuisine_id:s.cuisine_id||null,cuisine_name:s.cuisine_id===1?"\u4E2D\u9910":s.cuisine_id===2?"\u610F\u5927\u5229\u83DC":null,user_id:s.user_id||"user1",created_at:n,updated_at:n};return O.push(v),h.xk.json(v,{status:201})}let S=new g.AppRouteRouteModule({definition:{kind:k.x.APP_ROUTE,page:"/api/recipes/route",pathname:"/api/recipes",filename:"route",bundlePath:"app/api/recipes/route"},resolvedPagePath:"/Users/nasirann/Documents/GitHub/recipe-easy/app/api/recipes/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:M,staticGenerationAsyncStorage:A,serverHooks:D}=S,K="/api/recipes/route";function J(){return(0,p.XH)({serverHooks:D,staticGenerationAsyncStorage:A})}let B=o,q=_.a.wrap(S)},4155:ue,9985:oe},x=>{var y=t=>x(x.s=t);x.O(0,[467,805],()=>y(262));var r=x.O();(d._ENTRIES=typeof d._ENTRIES>"u"?{}:d._ENTRIES)["middleware_app/api/recipes/route"]=r}]),function(){let x={exports:{},loaded:!1};return function(r,t){var o=Object.create,_=Object.defineProperty,g=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyNames,p=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,E=e=>_(e,"__esModule",{value:!0}),O=(e,c)=>{E(e);for(var a in c)_(e,a,{get:c[a],enumerable:!0})},N=(e,c,a)=>{if(c&&typeof c=="object"||typeof c=="function")for(let n of k(c))!h.call(e,n)&&n!=="default"&&_(e,n,{get:()=>c[n],enumerable:!(a=g(c,n))||a.enumerable});return e},R=e=>N(E(_(e!=null?o(p(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);O(t,{default:()=>C});var F=R((Z(),ne(L))),S="@next/request-context",M=Symbol.for(S),A=Symbol.for("internal.storage");function D(){let e=d;if(!e[M]){let c=new F.AsyncLocalStorage,a={get:()=>c.getStore(),[A]:c};e[M]=a}return e[M]}var K=D();function J(e,c){return K[A].run(e,c)}function B(e){let c={};return e&&e.forEach((a,n)=>{c[n]=a,n.toLowerCase()==="set-cookie"&&(c[n]=q(a))}),c}function q(e){let c=[],a=0,n,v,f,w,I;function P(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}function j(){return v=e.charAt(a),v!=="="&&v!==";"&&v!==","}for(;a<e.length;){for(n=a,I=!1;P();)if(v=e.charAt(a),v===","){for(f=a,a+=1,P(),w=a;a<e.length&&j();)a+=1;a<e.length&&e.charAt(a)==="="?(I=!0,a=w,c.push(e.substring(n,f)),n=a):a=f+1}else a+=1;(!I||a>=e.length)&&c.push(e.substring(n,e.length))}return c}function C(e){let c=e.staticRoutes.map(n=>({regexp:new RegExp(n.namedRegex),page:n.page})),a=e.dynamicRoutes?.map(n=>({regexp:new RegExp(n.namedRegex),page:n.page}))||[];return async function(n,v){let f=new URL(n.url).pathname,w={};if(e.nextConfig?.basePath&&f.startsWith(e.nextConfig.basePath)&&(f=f.replace(e.nextConfig.basePath,"")||"/"),e.nextConfig?.i18n)for(let P of e.nextConfig.i18n.locales){let j=new RegExp(`^/${P}($|/)`,"i");if(f.match(j)){f=f.replace(j,"/")||"/";break}}for(let P of c)if(P.regexp.exec(f)){w.name=P.page;break}if(!w.name){let P=T(f);for(let j of a||[]){if(P&&!T(j.page))continue;let X=j.regexp.exec(f);if(X){w={name:j.page,params:X.groups};break}}}let I=await J({waitUntil:v.waitUntil},()=>d._ENTRIES[`middleware_${e.name}`].default.call({},{request:{url:n.url,method:n.method,headers:B(n.headers),ip:s(n.headers,b.Ip),geo:{city:s(n.headers,b.City,!0),country:s(n.headers,b.Country,!0),latitude:s(n.headers,b.Latitude),longitude:s(n.headers,b.Longitude),region:s(n.headers,b.Region,!0)},nextConfig:e.nextConfig,page:w,body:n.body}}));return I.waitUntil&&v.waitUntil(I.waitUntil),I.response}}function s(e,c,a=!1){let n=e.get(c)||void 0;return a&&n?decodeURIComponent(n):n}function T(e){return e==="/api"||e.startsWith("/api/")}var b;(function(e){e.City="x-vercel-ip-city",e.Country="x-vercel-ip-country",e.Ip="x-real-ip",e.Latitude="x-vercel-ip-latitude",e.Longitude="x-vercel-ip-longitude",e.Region="x-vercel-ip-country-region"})(b||(b={}))}(x,x.exports),x.exports}.call({}).default({name:"app/api/recipes/route",staticRoutes:[{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/auth",regex:"^/auth(?:/)?$",routeKeys:{},namedRegex:"^/auth(?:/)?$"},{page:"/auth/callback",regex:"^/auth/callback(?:/)?$",routeKeys:{},namedRegex:"^/auth/callback(?:/)?$"},{page:"/robots.txt",regex:"^/robots\\.txt(?:/)?$",routeKeys:{},namedRegex:"^/robots\\.txt(?:/)?$"},{page:"/sitemap.xml",regex:"^/sitemap\\.xml(?:/)?$",routeKeys:{},namedRegex:"^/sitemap\\.xml(?:/)?$"}],dynamicRoutes:[{page:"/api/generate-image/status/[taskId]",regex:"^/api/generate\\-image/status/([^/]+?)(?:/)?$",routeKeys:{nxtPtaskId:"nxtPtaskId"},namedRegex:"^/api/generate\\-image/status/(?<nxtPtaskId>[^/]+?)(?:/)?$"},{page:"/api/recipes/[id]",regex:"^/api/recipes/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/recipes/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/[locale]",regex:"^/([^/]+?)(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)(?:/)?$"},{page:"/[locale]/privacy",regex:"^/([^/]+?)/privacy(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)/privacy(?:/)?$"},{page:"/[locale]/terms",regex:"^/([^/]+?)/terms(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)/terms(?:/)?$"}],nextConfig:{basePath:""}})))(m,m,m);export{ft as default};
