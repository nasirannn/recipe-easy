var z=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var ee=Object.getOwnPropertyNames;var te=Object.prototype.hasOwnProperty;var re=(g,E)=>()=>(g&&(E=g(g=0)),E);var W=(g,E,K,v)=>{if(E&&typeof E=="object"||typeof E=="function")for(let _ of ee(E))!te.call(g,_)&&_!==K&&z(g,_,{get:()=>E[_],enumerable:!(v=Z(E,_))||v.enumerable});return g},J=(g,E,K)=>(W(g,E,"default"),K&&W(K,E,"default"));var se=g=>W(z({},"__esModule",{value:!0}),g);var q={};import*as vt from"async_hooks";var Q=re(()=>{J(q,vt)});import{__getNamedExports as ne}from"../../../__next-on-pages-dist__/webpack/26df63ef8f6dd468813d90c00f151653.js";import{__getNamedExports as ae}from"../../../__next-on-pages-dist__/webpack/f06805ab5d9e0d03a1114e3b4f275905.js";import{__getNamedExports as oe}from"../../../__next-on-pages-dist__/webpack/1d2470119d4f846d0a077893f2422c32.js";import{__getNamedExports as ie}from"../../../__next-on-pages-dist__/webpack/473.js";import{__getNamedExports as ue}from"../../../__next-on-pages-dist__/webpack/73a23316e6943b71c3775abd2b4c802e.js";import{__getNamedExports as ce}from"../../../__next-on-pages-dist__/webpack/7f9c4cac928c3718390c1c777cb83bc3.js";import{__getNamedExports as he}from"../../../__next-on-pages-dist__/manifest/537259e2ed205f5a7994cb4f05664668.js";var P=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/api/system-config"),H=ne(P,P,P),_e=H.__chunk_6195,le=H.__chunk_2067,de=H.__chunk_5558,pe=H.__chunk_5303,fe=H.__chunk_5228,D=ae(P,P,P),me=D.__chunk_5728,ge=D.__chunk_5607,ke=D.__chunk_9037,ye=D.__chunk_5737,xe=D.__chunk_4919,Pe=D.__chunk_6855,be=D.__chunk_3607,Ee=D.__chunk_2908,V=oe(P,P,P),ve=V.__chunk_9985,je=V.__chunk_4155,$e=ie(P,P,P),we=$e.__chunk_473,b=ue(P,P,P),Oe=b.__chunk_1730,Ae=b.__chunk_3818,Ne=b.__chunk_7037,Te=b.__chunk_5577,Se=b.__chunk_1863,Re=b.__chunk_3039,Ce=b.__chunk_9573,Me=b.__chunk_7701,Ie=b.__chunk_662,Le=b.__chunk_7444,Fe=b.__chunk_4591,Ue=b.__chunk_932,De=b.__chunk_5234,Be=b.__chunk_2561,Ge=b.__chunk_2988,Ke=b.__chunk_2039,qe=b.__chunk_5028,He=b.__chunk_9548,We=b.__chunk_6914,Je=b.__chunk_7960,Xe=b.__chunk_5996,ze=b.__chunk_4337,x=ce(P,P,P),Qe=x.__chunk_5405,Ve=x.__chunk_7322,Ye=x.__chunk_2296,Ze=x.__chunk_4101,et=x.__chunk_6776,tt=x.__chunk_8042,rt=x.__chunk_3665,st=x.__chunk_6991,nt=x.__chunk_8816,at=x.__chunk_6631,ot=x.__chunk_4828,it=x.__chunk_828,ut=x.__chunk_5927,ct=x.__chunk_6202,ht=x.__chunk_4363,_t=x.__chunk_8264,lt=x.__chunk_1583,dt=x.__chunk_7908,pt=x.__chunk_8949,ft=x.__chunk_796,mt=x.__chunk_1651,gt=x.__chunk_5105,kt=x.__chunk_9642,yt=x.__chunk_8819,xt=x.__chunk_676,Y=he(P,P,P),Pt=Y.__NEXT_FONT_MANIFEST,bt=Y.__REACT_LOADABLE_MANIFEST,St=((g,E,K)=>(E._ENTRIES={},g.__BUILD_MANIFEST={polyfillFiles:["static/chunks/polyfills-42372ed130431b0a.js"],devFiles:[],ampDevFiles:[],lowPriorityFiles:[],rootMainFiles:["static/chunks/webpack-ab9b5bdd0084cc23.js","static/chunks/fd9d1056-b6bd4111191f2b98.js","static/chunks/30-831c6f736de22b6a.js","static/chunks/main-app-197e90683a538661.js"],pages:{"/_app":["static/chunks/webpack-ab9b5bdd0084cc23.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-8267e90745dfb882.js","static/chunks/pages/_app-72b849fbd24ac258.js"],"/_error":["static/chunks/webpack-ab9b5bdd0084cc23.js","static/chunks/framework-f66176bb897dc684.js","static/chunks/main-8267e90745dfb882.js","static/chunks/pages/_error-7ba65e1336b92748.js"]},ampFirstPages:[]},g.__BUILD_MANIFEST.lowPriorityFiles=["/static/5A9E8b1EJTvgxPSBSSfvq/_buildManifest.js",,"/static/5A9E8b1EJTvgxPSBSSfvq/_ssgManifest.js"],g.__REACT_LOADABLE_MANIFEST=bt,g.__NEXT_FONT_MANIFEST=Pt,g.__INTERCEPTION_ROUTE_REWRITE_MANIFEST="[]",(()=>{"use strict";var v={},_={};function o(a){var c=_[a];if(c!==void 0)return c.exports;var i=_[a]={exports:{}},h=!0;try{v[a].call(i.exports,i,i.exports,o),h=!1}finally{h&&delete _[a]}return i.exports}o.m=v,o.amdO={},(()=>{var a=[];o.O=(c,i,h,t)=>{if(i){t=t||0;for(var e=a.length;e>0&&a[e-1][2]>t;e--)a[e]=a[e-1];a[e]=[i,h,t];return}for(var r=1/0,e=0;e<a.length;e++){for(var[i,h,t]=a[e],s=!0,u=0;u<i.length;u++)r>=t&&Object.keys(o.O).every(A=>o.O[A](i[u]))?i.splice(u--,1):(s=!1,t<r&&(r=t));if(s){a.splice(e--,1);var l=h();l!==void 0&&(c=l)}}return c}})(),o.n=a=>{var c=a&&a.__esModule?()=>a.default:()=>a;return o.d(c,{a:c}),c},(()=>{var a,c=Object.getPrototypeOf?i=>Object.getPrototypeOf(i):i=>i.__proto__;o.t=function(i,h){if(1&h&&(i=this(i)),8&h||typeof i=="object"&&i&&(4&h&&i.__esModule||16&h&&typeof i.then=="function"))return i;var t=Object.create(null);o.r(t);var e={};a=a||[null,c({}),c([]),c(c)];for(var r=2&h&&i;typeof r=="object"&&!~a.indexOf(r);r=c(r))Object.getOwnPropertyNames(r).forEach(s=>e[s]=()=>i[s]);return e.default=()=>i,o.d(t,e),t}})(),o.d=(a,c)=>{for(var i in c)o.o(c,i)&&!o.o(a,i)&&Object.defineProperty(a,i,{enumerable:!0,get:c[i]})},o.e=()=>Promise.resolve(),o.g=function(){if(typeof E=="object")return E;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},(()=>{var a={993:0};o.O.j=h=>a[h]===0;var c=(h,t)=>{var e,r,[s,u,l]=t,f=0;if(s.some(k=>a[k]!==0)){for(e in u)o.o(u,e)&&(o.m[e]=u[e]);if(l)var y=l(o)}for(h&&h(t);f<s.length;f++)r=s[f],o.o(a,r)&&a[r]&&a[r][0](),a[r]=0;return o.O(y)},i=g.webpackChunk_N_E=g.webpackChunk_N_E||[];i.forEach(c.bind(null,0)),i.push=c.bind(null,i.push.bind(i))})(),o.nc=void 0})(),(g.webpackChunk_N_E=g.webpackChunk_N_E||[]).push([[467],{676:xt,8819:yt,9642:kt,5105:gt,1651:mt,796:ft,8949:pt,7908:dt,1583:lt,8264:_t,4363:ht,6202:ct,5927:ut,828:it,4828:ot,6631:at,8816:nt,6991:st,3665:rt,8042:tt,6776:et,4101:Ze,2296:Ye,5228:fe,5303:pe,7322:Ve,5558:de,5405:Qe}]),(g.webpackChunk_N_E=g.webpackChunk_N_E||[]).push([[805],{4337:ze,5996:Xe,7960:Je,6914:We,9548:He,5028:qe,2039:Ke,2988:Ge,2561:Be,5234:De,932:Ue,4591:Fe,7444:Le,662:Ie,7701:Me,9573:Ce,3039:Re,1863:Se,5577:Te,7037:Ne,3818:Ae,1730:Oe}]),(g.webpackChunk_N_E=g.webpackChunk_N_E||[]).push([[926],{2908:Ee,3607:be,4953:function(v,_,o){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(o(3607)),i=a(o(6855));class h{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=c.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var l,f,y;let k=null,j=null,A=null,N=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){let S=await u.text();S===""||(j=this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S:JSON.parse(S))}let C=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),L=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");C&&L&&L.length>1&&(A=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(k={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,A=null,N=406,w="Not Acceptable"):j=j.length===1?j[0]:null)}else{let C=await u.text();try{k=JSON.parse(C),Array.isArray(k)&&u.status===404&&(j=[],k=null,N=200,w="OK")}catch{u.status===404&&C===""?(N=204,w="No Content"):k={message:C}}if(k&&this.isMaybeSingle&&((y=k?.details)===null||y===void 0?void 0:y.includes("0 rows"))&&(k=null,N=200,w="OK"),k&&this.shouldThrowOnError)throw new i.default(k)}return{error:k,data:j,count:A,status:N,statusText:w}});return this.shouldThrowOnError||(s=s.catch(u=>{var l,f,y;return{error:{message:`${(l=u?.name)!==null&&l!==void 0?l:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(y=u?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}}_.default=h},4708:function(v,_,o){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(o(3449)),i=a(o(5245)),h=o(4919);class t{constructor(r,{headers:s={},schema:u,fetch:l}={}){this.url=r,this.headers=Object.assign(Object.assign({},h.DEFAULT_HEADERS),s),this.schemaName=u,this.fetch=l}from(r){let s=new URL(`${this.url}/${r}`);return new c.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new t(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:u=!1,get:l=!1,count:f}={}){let y,k,j=new URL(`${this.url}/rpc/${r}`);u||l?(y=u?"HEAD":"GET",Object.entries(s).filter(([N,w])=>w!==void 0).map(([N,w])=>[N,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([N,w])=>{j.searchParams.append(N,w)})):(y="POST",k=s);let A=Object.assign({},this.headers);return f&&(A.Prefer=`count=${f}`),new i.default({method:y,url:j,headers:A,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}}_.default=t},6855:Pe,5245:function(v,_,o){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(o(1560));class i extends c.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let r=Array.from(new Set(e)).map(s=>typeof s=="string"&&RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");let l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${u}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){let s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}}_.default=i},3449:function(v,_,o){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(o(5245));class i{constructor(t,{headers:e={},schema:r,fetch:s}){this.url=t,this.headers=e,this.schema=r,this.fetch=s}select(t,{head:e=!1,count:r}={}){let s=!1,u=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",u),r&&(this.headers.Prefer=`count=${r}`),new c.default({method:e?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){let s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){let u=t.reduce((l,f)=>l.concat(Object.keys(f)),[]);if(u.length>0){let l=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",l.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:u=!0}={}){let l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),u||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){let f=t.reduce((y,k)=>y.concat(Object.keys(k)),[]);if(f.length>0){let y=[...new Set(f)].map(k=>`"${k}"`);this.url.searchParams.set("columns",y.join(","))}}return new c.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),this.headers.Prefer=r.join(","),new c.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new c.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}_.default=i},1560:function(v,_,o){"use strict";var a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_,"__esModule",{value:!0});let c=a(o(4953));class i extends c.default{select(t){let e=!1,r=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:u=s}={}){let l=u?`${u}.order`:"order",f=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${f?`${f},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){let s=r===void 0?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:s=r}={}){let u=s===void 0?"offset":`${s}.offset`,l=s===void 0?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:u=!1,format:l="text"}={}){var f;let y=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,u?"wal":null].filter(Boolean).join("|"),k=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${k}"; options=${y};`,this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}_.default=i},4919:xe,7483:function(v,_,o){"use strict";var a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(_,"__esModule",{value:!0}),_.PostgrestError=_.PostgrestBuilder=_.PostgrestTransformBuilder=_.PostgrestFilterBuilder=_.PostgrestQueryBuilder=_.PostgrestClient=void 0;let c=a(o(4708));_.PostgrestClient=c.default;let i=a(o(3449));_.PostgrestQueryBuilder=i.default;let h=a(o(5245));_.PostgrestFilterBuilder=h.default;let t=a(o(1560));_.PostgrestTransformBuilder=t.default;let e=a(o(4953));_.PostgrestBuilder=e.default;let r=a(o(6855));_.PostgrestError=r.default,_.default={PostgrestClient:c.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:h.default,PostgrestTransformBuilder:t.default,PostgrestBuilder:e.default,PostgrestError:r.default}},5737:ye,9037:ke,4155:je,473:we,9985:ve,5607:ge,5728:me}]),(g.webpackChunk_N_E=g.webpackChunk_N_E||[]).push([[628],{2067:le,6195:_e,7403:(v,_,o)=>{"use strict";o.r(_),o.d(_,{ComponentMod:()=>C,default:()=>L});var a={};o.r(a),o.d(a,{GET:()=>l,POST:()=>f,runtime:()=>s});var c={};o.r(c),o.d(c,{originalPathname:()=>N,patchFetch:()=>w,requestAsyncStorage:()=>k,routeModule:()=>y,serverHooks:()=>A,staticGenerationAsyncStorage:()=>j});var i=o(932),h=o(2561),t=o(4828),e=o(6631),r=o(9985);o(2908),o(473);let s="edge";async function u(S){try{let $=function(){let m="https://dgjrrwviswykejihagnn.supabase.co",d=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!m||!d)throw Error("\u7F3A\u5C11Supabase\u73AF\u5883\u53D8\u91CF\uFF0C\u8BF7\u68C0\u67E5.env\u6587\u4EF6");let{createClient:p}=o(9037);return p(m,d,{auth:{autoRefreshToken:!1,persistSession:!1}})}(),O=S.headers.get("Authorization");if(!O||!O.startsWith("Bearer "))return!1;let F=O.split(" ")[1],{data:T,error:n}=await $.auth.getUser(F);return n||!T.user?!1:T.user.user_metadata?.role==="admin"}catch($){return console.error("\u68C0\u67E5\u7BA1\u7406\u5458\u6743\u9650\u5931\u8D25:",$),!1}}async function l(S){try{if(!await u(S))return r.xk.json({error:"Unauthorized: \u9700\u8981\u7BA1\u7406\u5458\u6743\u9650"},{status:403});let $=process.env.WORKER_URL;if(!$)return r.xk.json({error:"Worker URL not configured"},{status:500});let O=await fetch(`${$}/api/system-configs`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!O.ok)return r.xk.json({error:"\u83B7\u53D6\u7CFB\u7EDF\u914D\u7F6E\u5931\u8D25"},{status:O.status});let F=await O.json();return r.xk.json(F)}catch($){return console.error("Error getting system configs:",$),r.xk.json({error:"\u83B7\u53D6\u7CFB\u7EDF\u914D\u7F6E\u5931\u8D25",details:$ instanceof Error?$.message:"Unknown error"},{status:500})}}async function f(S){try{if(!await u(S))return r.xk.json({error:"Unauthorized: \u9700\u8981\u7BA1\u7406\u5458\u6743\u9650"},{status:403});let{key:$,value:O,description:F}=await S.json();if(!$||O===void 0)return r.xk.json({error:"\u53C2\u6570\u9519\u8BEF: \u5FC5\u987B\u63D0\u4F9B key \u548C value"},{status:400});let T=process.env.WORKER_URL;if(!T)return r.xk.json({error:"Worker URL not configured"},{status:500});let n=await fetch(`${T}/api/system-configs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:$,value:O,description:F})});if(!n.ok)return r.xk.json({error:"\u66F4\u65B0\u7CFB\u7EDF\u914D\u7F6E\u5931\u8D25"},{status:n.status});let m=await n.json();return r.xk.json(m)}catch($){return console.error("Error updating system config:",$),r.xk.json({error:"\u66F4\u65B0\u7CFB\u7EDF\u914D\u7F6E\u5931\u8D25",details:$ instanceof Error?$.message:"Unknown error"},{status:500})}}let y=new h.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/system-config/route",pathname:"/api/system-config",filename:"route",bundlePath:"app/api/system-config/route"},resolvedPagePath:"/Users/nasirann/Documents/GitHub/recipe-easy/app/api/system-config/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:k,staticGenerationAsyncStorage:j,serverHooks:A}=y,N="/api/system-config/route";function w(){return(0,e.XH)({serverHooks:A,staticGenerationAsyncStorage:j})}let C=c,L=i.a.wrap(y)}},v=>{var _=a=>v(v.s=a);v.O(0,[467,805,926],()=>_(7403));var o=v.O();(E._ENTRIES=typeof E._ENTRIES>"u"?{}:E._ENTRIES)["middleware_app/api/system-config/route"]=o}]),function(){let v={exports:{},loaded:!1};return function(o,a){var c=Object.create,i=Object.defineProperty,h=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,e=Object.getPrototypeOf,r=Object.prototype.hasOwnProperty,s=n=>i(n,"__esModule",{value:!0}),u=(n,m)=>{s(n);for(var d in m)i(n,d,{get:m[d],enumerable:!0})},l=(n,m,d)=>{if(m&&typeof m=="object"||typeof m=="function")for(let p of t(m))!r.call(n,p)&&p!=="default"&&i(n,p,{get:()=>m[p],enumerable:!(d=h(m,p))||d.enumerable});return n},f=n=>l(s(i(n!=null?c(e(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);u(a,{default:()=>$});var y=f((Q(),se(q))),k="@next/request-context",j=Symbol.for(k),A=Symbol.for("internal.storage");function N(){let n=E;if(!n[j]){let m=new y.AsyncLocalStorage,d={get:()=>m.getStore(),[A]:m};n[j]=d}return n[j]}var w=N();function C(n,m){return w[A].run(n,m)}function L(n){let m={};return n&&n.forEach((d,p)=>{m[p]=d,p.toLowerCase()==="set-cookie"&&(m[p]=S(d))}),m}function S(n){let m=[],d=0,p,M,R,B,G;function I(){for(;d<n.length&&/\s/.test(n.charAt(d));)d+=1;return d<n.length}function U(){return M=n.charAt(d),M!=="="&&M!==";"&&M!==","}for(;d<n.length;){for(p=d,G=!1;I();)if(M=n.charAt(d),M===","){for(R=d,d+=1,I(),B=d;d<n.length&&U();)d+=1;d<n.length&&n.charAt(d)==="="?(G=!0,d=B,m.push(n.substring(p,R)),p=d):d=R+1}else d+=1;(!G||d>=n.length)&&m.push(n.substring(p,n.length))}return m}function $(n){let m=n.staticRoutes.map(p=>({regexp:new RegExp(p.namedRegex),page:p.page})),d=n.dynamicRoutes?.map(p=>({regexp:new RegExp(p.namedRegex),page:p.page}))||[];return async function(p,M){let R=new URL(p.url).pathname,B={};if(n.nextConfig?.basePath&&R.startsWith(n.nextConfig.basePath)&&(R=R.replace(n.nextConfig.basePath,"")||"/"),n.nextConfig?.i18n)for(let I of n.nextConfig.i18n.locales){let U=new RegExp(`^/${I}($|/)`,"i");if(R.match(U)){R=R.replace(U,"/")||"/";break}}for(let I of m)if(I.regexp.exec(R)){B.name=I.page;break}if(!B.name){let I=F(R);for(let U of d||[]){if(I&&!F(U.page))continue;let X=U.regexp.exec(R);if(X){B={name:U.page,params:X.groups};break}}}let G=await C({waitUntil:M.waitUntil},()=>E._ENTRIES[`middleware_${n.name}`].default.call({},{request:{url:p.url,method:p.method,headers:L(p.headers),ip:O(p.headers,T.Ip),geo:{city:O(p.headers,T.City,!0),country:O(p.headers,T.Country,!0),latitude:O(p.headers,T.Latitude),longitude:O(p.headers,T.Longitude),region:O(p.headers,T.Region,!0)},nextConfig:n.nextConfig,page:B,body:p.body}}));return G.waitUntil&&M.waitUntil(G.waitUntil),G.response}}function O(n,m,d=!1){let p=n.get(m)||void 0;return d&&p?decodeURIComponent(p):p}function F(n){return n==="/api"||n.startsWith("/api/")}var T;(function(n){n.City="x-vercel-ip-city",n.Country="x-vercel-ip-country",n.Ip="x-real-ip",n.Latitude="x-vercel-ip-latitude",n.Longitude="x-vercel-ip-longitude",n.Region="x-vercel-ip-country-region"})(T||(T={}))}(v,v.exports),v.exports}.call({}).default({name:"app/api/system-config/route",staticRoutes:[{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/auth",regex:"^/auth(?:/)?$",routeKeys:{},namedRegex:"^/auth(?:/)?$"},{page:"/auth/callback",regex:"^/auth/callback(?:/)?$",routeKeys:{},namedRegex:"^/auth/callback(?:/)?$"},{page:"/robots.txt",regex:"^/robots\\.txt(?:/)?$",routeKeys:{},namedRegex:"^/robots\\.txt(?:/)?$"},{page:"/sitemap.xml",regex:"^/sitemap\\.xml(?:/)?$",routeKeys:{},namedRegex:"^/sitemap\\.xml(?:/)?$"}],dynamicRoutes:[{page:"/api/generate-image/status/[taskId]",regex:"^/api/generate\\-image/status/([^/]+?)(?:/)?$",routeKeys:{nxtPtaskId:"nxtPtaskId"},namedRegex:"^/api/generate\\-image/status/(?<nxtPtaskId>[^/]+?)(?:/)?$"},{page:"/api/recipes/[id]",regex:"^/api/recipes/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/recipes/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/[locale]",regex:"^/([^/]+?)(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)(?:/)?$"},{page:"/[locale]/privacy",regex:"^/([^/]+?)/privacy(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)/privacy(?:/)?$"},{page:"/[locale]/terms",regex:"^/([^/]+?)/terms(?:/)?$",routeKeys:{nxtPlocale:"nxtPlocale"},namedRegex:"^/(?<nxtPlocale>[^/]+?)/terms(?:/)?$"}],nextConfig:{basePath:""}})))(P,P,P);export{St as default};
